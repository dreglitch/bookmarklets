javascript:(function(){var d=document,w=window;if(w.__swm__){w.__swm__.stop();delete w.__swm__;return;}var c=d.createElement("canvas"),x=c.getContext("2d");c.style="position:fixed;inset:0;pointer-events:none;z-index:999999";d.body.appendChild(c);function R(){c.width=innerWidth;c.height=innerHeight}R();addEventListener("resize",R);var m={x:innerWidth/2,y:innerHeight/2};addEventListener("mousemove",e=>{m.x=e.clientX;m.y=e.clientY});var cfg={bt:.12,ms:6,fr:.02,ss:.08,db:.18,cr:180,ir:40},cars=[];function mk(){return{x:m.x,y:m.y,vx:0,vy:0,a:0,mode:"free",col:"hsl("+Math.random()*360+",90%,60%)"}}cars.push(mk());addEventListener("keydown",e=>{if(e.key=="q")cars.push(mk())});function L(a,b){return Math.hypot(a,b)}function N(a,b){var l=L(a,b)||1;return[a/l,b/l]}function S(a,b,c,d){return Math.atan2(a*d-b*c,a*c+b*d)}function C(v,a,b){return v<a?a:v>b?b:v}function B(o){var m=80,sx=0,sy=0;if(o.x<m)sx++;if(o.x>c.width-m)sx--;if(o.y<m)sy++;if(o.y>c.height-m)sy--;return sx||sy?N(sx,sy):[0,0]}function ctrl(o){var dx=m.x-o.x,dy=m.y-o.y,d=L(dx,dy)||1,tx=dx/d,ty=dy/d,spd=L(o.vx,o.vy),vd=spd>.001?N(o.vx,o.vy):[Math.cos(o.a),Math.sin(o.a)],cr=cfg.cr,ir=cfg.ir;if(o.mode=="free"){if(d<cr&&d>ir*1.1)o.mode="orbit"}else if(d>cr*1.3||d<ir*.9)o.mode="free";var th=cfg.bt,st=0,dr=cfg.db,br=0;if(o.mode=="free"){var tx2=-ty,ty2=tx,sx=tx2*.7+tx*.3,sy=ty2*.7+ty*.3,sp=N(sx,sy),des=[vd[0]+(sp[0]-vd[0])*.4,vd[1]+(sp[1]-vd[1])*.4],dn=N(des[0],des[1]),bd=B(o),fx=dn[0],fy=dn[1];if(bd[0]||bd[1]){var mm=[dn[0]+(bd[0]-dn[0])*.5,dn[1]+(bd[1]-dn[1])*.5],nn=N(mm[0],mm[1]);fx=nn[0];fy=nn[1]}var cdx=Math.cos(o.a),cdy=Math.sin(o.a),ang=S(cdx,cdy,fx,fy);st=C(ang,-cfg.ss,cfg.ss);if(spd<cfg.ms*.6)th*=1.4;else if(spd>cfg.ms){th=0;br=.02}}else{var ttx=-ty,tty=tx,re=d-(ir+(cr-ir)*.65),ra=C(re/(ir+(cr-ir)*.65),-.6,.6);if(d<ir*1.2)ra=Math.max(ra,.4);var dx2=ttx+tx*ra*.7,dy2=tty+ty*ra*.7,dn2=N(dx2,dy2),cdx2=Math.cos(o.a),cdy2=Math.sin(o.a),ang2=S(cdx2,cdy2,dn2[0],dn2[1]);st=C(ang2,-cfg.ss*1.6,cfg.ss*1.6);if(spd<4)th*=1.6;else if(spd>5.6){th=0;br=.03}else th*=1.1;dr*=1.4}o.a+=st;var dx3=Math.cos(o.a),dy3=Math.sin(o.a);o.vx+=dx3*th;o.vy+=dy3*th;var lx=-dy3,ly=dx3;o.vx+=lx*dr*.02;o.vy+=ly*dr*.02;if(br){o.vx*=1-br;o.vy*=1-br}o.vx*=1-cfg.fr;o.vy*=1-cfg.fr;var ns=L(o.vx,o.vy);if(ns>cfg.ms){var n=N(o.vx,o.vy);o.vx=n[0]*cfg.ms;o.vy=n[1]*cfg.ms}o.x+=o.vx;o.y+=o.vy;var b=10;if(o.x<b){o.x=b;o.vx=Math.abs(o.vx)*.6}else if(o.x>c.width-b){o.x=c.width-b;o.vx=-Math.abs(o.vx)*.6}if(o.y<b){o.y=b;o.vy=Math.abs(o.vy)*.6}else if(o.y>c.height-b){o.y=c.height-b;o.vy=-Math.abs(o.vy)*.6}var ndx=o.x-m.x,ndy=o.y-m.y,nd=L(ndx,ndy)||1;if(nd<ir){var nnx=ndx/nd,nny=ndy/nd;o.x=m.x+nnx*ir;o.y=m.y+nny*ir;o.vx+=nnx*.5;o.vy+=nny*.5}}function draw(o){x.save();x.translate(o.x,o.y);x.rotate(o.a);x.fillStyle=o.col;x.beginPath();x.moveTo(16,0);x.lineTo(-10,-9);x.lineTo(-10,9);x.closePath();x.fill();x.restore()}var anim;function loop(){x.clearRect(0,0,c.width,c.height);cars.forEach(o=>{ctrl(o);draw(o)});anim=requestAnimationFrame(loop)}loop();var p=d.createElement("div");p.style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000c;color:#0f0;padding:12px 16px;border:2px solid #0f0;z-index:1000000;font:14px monospace;max-width:240px";p.innerHTML="<b>AI Arrow Swarm</b><br><br>Move mouse = target<br>Q = spawn clone<br>Each clone = random color<br>Click bookmark = off<br><br><span id='x' style='cursor:pointer;color:#f44'>[close]</span>";d.body.appendChild(p);p.querySelector("#x").onclick=()=>p.remove();w.__swm__={stop:function(){cancelAnimationFrame(anim);removeEventListener("resize",R);d.body.removeChild(c);p.remove();}}})();
